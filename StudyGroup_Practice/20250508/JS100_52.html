<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 문제52 : quick sort -->

    <!-- 다음 빈 칸을 채워 퀵 정렬을 완성해주세요. -->

    <!-- 
        퀵정렬이란?
        주어진 배열에서 하나의 요소를 선택하고 이를 pivot(피벗)으로 삼는다.
        배열 내부의 모든 값을 검사하면서 피벗 값보다 작은 값들은 왼쪽에, 큰 값들은 오른쪽에 배치한다.
        이렇게 나뉜 두 개의 배열에서 각각 새로운 피벗을 만들어서 두 개의 배열로 다시 나눈다.
        더 이상 배열을 쪼갤 수 없을 때까지 진행한다.
    -->

    <!-- 3 7 2 0 8 4 1 6 9 5 -->

    <script>
        function quickSort(arr){
            // 배열 길이가 1 이하인 경우, 이미 정렬 완료된 상태이므로 그대로 반환(재귀 종료 조건건)
            if (arr.length <= 1){
                return arr;
            }

            const pivot = arr[0];
            const left = [];  // pivot을 기준으로 작은 값
            const right = [];  // pivot을 기준으로 크거나 같은 값

            for (let i=1; i<arr.length; i++){
                if(arr[i] < pivot){
                left.push(arr[i]);
                } else {
                right.push(arr[i]);
                }
            }
            // 재귀호출을 통해 정렬이 완료될 때까지 계속 반복됨.
            // left, right 각각에 대해 재귀적으로 quickSort()를 호출하고, 그 결과를 concat()을 통해 합쳐서 반환
            // 배열이 충분히 쪼개져서 더 이상 쪼개질 수 없을 때 멈춘다.
            return quickSort(left).concat(pivot, quickSort(right));
        }

        const array = prompt('배열을 입력하세요').split(' ').map(n => parseInt(n, 10));

        console.log(quickSort(array));
    </script>
</body>
</html>